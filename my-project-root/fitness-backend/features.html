<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Features - HealthConnect</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body class="min-h-screen bg-gray-50">
  <!-- Navigation -->
  <nav class="bg-white shadow-sm fixed w-full z-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
      <div class="flex justify-between items-center">
        <div class="flex items-center">
          <a href="index.html" class="flex items-center">
            <i data-lucide="activity" class="h-8 w-8 text-blue-600"></i>
            <span class="ml-2 text-xl font-bold text-gray-900">HealthConnect</span>
          </a>
        </div>
        <div class="hidden md:flex space-x-8">
          <a href="index.html#telehealth" class="text-gray-600 hover:text-blue-600">Telehealth</a>
          <a href="index.html#fitness" class="text-gray-600 hover:text-blue-600">Fitness</a>
          <a href="#" class="text-blue-600">Features</a>
          <a href="index.html#trainers" class="text-gray-600 hover:text-blue-600">Trainers</a>
          <a href="appointments.html" class="text-gray-600 hover:text-blue-600">Appointments</a>
        </div>
        <div class="flex items-center space-x-4">
          <a href="signin.html" class="hidden md:block border-2 border-blue-600 text-blue-600 px-6 py-2 rounded-full hover:bg-blue-50 transition-colors">
            Sign In
          </a>
          <a href="get-started.html" class="bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors">
            Get Started
          </a>
        </div>
      </div>
    </div>
  </nav>

  <main class="pt-24 pb-12">
    <!-- Hero Section -->
    <section class="bg-gradient-to-r from-blue-600 to-blue-800 py-20 mb-12">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h1 class="text-4xl font-bold text-white mb-6">Personalized Health Features</h1>
        <p class="text-xl text-blue-100">Discover tools and features designed to transform your health journey</p>
      </div>
    </section>

    <!-- Diet Plan Calculator -->
    <section class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 mb-16">
      <div class="bg-white rounded-xl shadow-lg p-8">
        <div class="text-center mb-8">
          <h2 class="text-3xl font-bold text-gray-900 mb-4">Personalized Diet Plan Calculator</h2>
          <p class="text-gray-600">Get a customized diet plan based on your body metrics and goals</p>
        </div>

        <form id="diet-calculator" class="space-y-6">
          <div class="grid md:grid-cols-2 gap-6">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">Age</label>
              <input 
                type="number" 
                id="age" 
                required
                min="15" 
                max="100"
                class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-600 focus:border-blue-600"
                placeholder="Enter your age"
              >
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">Gender</label>
              <select 
                id="gender"
                required
                class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-600 focus:border-blue-600"
              >
                <option value="">Select gender</option>
                <option value="male">Male</option>
                <option value="female">Female</option>
                <option value="other">Other</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">Weight (kg)</label>
              <input 
                type="number" 
                id="weight" 
                required
                step="0.1"
                min="30" 
                max="300"
                class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-600 focus:border-blue-600"
                placeholder="Enter your weight"
              >
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">Height (cm)</label>
              <input 
                type="number" 
                id="height" 
                required
                min="100" 
                max="250"
                class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-600 focus:border-blue-600"
                placeholder="Enter your height"
              >
            </div>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Activity Level</label>
            <select 
              id="activity"
              required
              class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-600 focus:border-blue-600"
            >
              <option value="">Select activity level</option>
              <option value="1.2">Sedentary (little or no exercise)</option>
              <option value="1.375">Lightly active (light exercise 1-3 days/week)</option>
              <option value="1.55">Moderately active (moderate exercise 3-5 days/week)</option>
              <option value="1.725">Very active (hard exercise 6-7 days/week)</option>
              <option value="1.9">Extra active (very hard exercise & physical job)</option>
            </select>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Goal</label>
            <select 
              id="goal"
              required
              class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-600 focus:border-blue-600"
            >
              <option value="">Select your goal</option>
              <option value="loss">Weight Loss</option>
              <option value="maintain">Maintain Weight</option>
              <option value="gain">Weight Gain</option>
            </select>
          </div>

          <button 
            type="submit"
            class="w-full bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors"
          >
            Calculate Diet Plan
          </button>
        </form>

        <!-- Results Section (Hidden by default) -->
        <div id="diet-results" class="mt-8 hidden">
          <h3 class="text-2xl font-bold text-gray-900 mb-4">Your Personalized Diet Plan</h3>
          
          <div class="grid md:grid-cols-2 gap-6">
            <div class="bg-blue-50 rounded-lg p-6">
              <h4 class="text-lg font-semibold text-gray-900 mb-2">Daily Caloric Needs</h4>
              <p id="calories-result" class="text-3xl font-bold text-blue-600"></p>
              <p class="text-sm text-gray-600 mt-2">Calories per day</p>
            </div>
            
            <div class="bg-blue-50 rounded-lg p-6">
              <h4 class="text-lg font-semibold text-gray-900 mb-2">Macronutrient Split</h4>
              <div class="space-y-2">
                <p class="flex justify-between">
                  <span>Protein:</span>
                  <span id="protein-result" class="font-semibold"></span>
                </p>
                <p class="flex justify-between">
                  <span>Carbohydrates:</span>
                  <span id="carbs-result" class="font-semibold"></span>
                </p>
                <p class="flex justify-between">
                  <span>Fats:</span>
                  <span id="fats-result" class="font-semibold"></span>
                </p>
              </div>
            </div>
          </div>

          <div class="mt-6 p-6 bg-gray-50 rounded-lg">
            <h4 class="text-lg font-semibold text-gray-900 mb-4">Recommended Meal Plan</h4>
            <div id="meal-plan" class="space-y-4">
              <!-- Meal plan will be inserted here -->
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script src="https://unpkg.com/lucide@latest"></script>
  <script>
    // Initialize Lucide icons
    lucide.createIcons();
  
    // Diet Calculator Logic
    document.getElementById('diet-calculator').addEventListener('submit', function (e) {
      e.preventDefault();
  
      // Get form values
      const age = parseInt(document.getElementById('age').value);
      const gender = document.getElementById('gender').value;
      const weight = parseFloat(document.getElementById('weight').value);
      const height = parseInt(document.getElementById('height').value);
      const activity = parseFloat(document.getElementById('activity').value);
      const goal = document.getElementById('goal').value;
  
      // Validate inputs
      if (isNaN(age) || isNaN(weight) || isNaN(height) || !gender || !activity || !goal) {
        alert("Please fill out all fields correctly.");
        return;
      }
  
      // Calculate BMR using Mifflin-St Jeor Equation
      let bmr;
      if (gender === 'male') {
        bmr = 10 * weight + 6.25 * height - 5 * age + 5;
      } else {
        bmr = 10 * weight + 6.25 * height - 5 * age - 161;
      }
  
      // Calculate TDEE (Total Daily Energy Expenditure)
      let tdee = bmr * activity;
  
      // Adjust calories based on goal
      let calories;
      switch (goal) {
        case 'loss':
          calories = tdee - 500; // 500 calorie deficit for weight loss
          break;
        case 'gain':
          calories = tdee + 500; // 500 calorie surplus for weight gain
          break;
        default:
          calories = tdee; // Maintain current weight
      }
  
      // Calculate macronutrients
      const protein = weight * 2.2; // 2.2g per kg of body weight
      const fats = (calories * 0.25) / 9; // 25% of calories from fat
      const carbs = (calories - protein * 4 - fats * 9) / 4; // Remaining calories from carbs
  
      // Update results
      document.getElementById('calories-result').textContent = Math.round(calories);
      document.getElementById('protein-result').textContent = `${Math.round(protein)}g`;
      document.getElementById('carbs-result').textContent = `${Math.round(carbs)}g`;
      document.getElementById('fats-result').textContent = `${Math.round(fats)}g`;
  
      // Generate meal plan
      const mealPlan = generateMealPlan(calories, protein, carbs, fats);
      const mealPlanElement = document.getElementById('meal-plan');
      mealPlanElement.innerHTML = mealPlan;
  
      // Show results
      document.getElementById('diet-results').classList.remove('hidden');
  
      // Smooth scroll to results
      document.getElementById('diet-results').scrollIntoView({ behavior: 'smooth' });
    });
  
    function generateMealPlan(calories, protein, carbs, fats) {
      const meals = [
        {
          name: 'Breakfast (25%)',
          calories: Math.round(calories * 0.25),
          protein: Math.round(protein * 0.25),
          carbs: Math.round(carbs * 0.25),
          fats: Math.round(fats * 0.25),
          suggestions: [
            'Scrambled eggs with spinach and whole-grain toast',
            'Greek yogurt with berries and nuts',
          ],
        },
        {
          name: 'Lunch (35%)',
          calories: Math.round(calories * 0.35),
          protein: Math.round(protein * 0.35),
          carbs: Math.round(carbs * 0.35),
          fats: Math.round(fats * 0.35),
          suggestions: [
            'Grilled chicken salad with quinoa and avocado',
            'Lentil soup with whole-grain bread',
          ],
        },
        {
          name: 'Dinner (30%)',
          calories: Math.round(calories * 0.30),
          protein: Math.round(protein * 0.30),
          carbs: Math.round(carbs * 0.30),
          fats: Math.round(fats * 0.30),
          suggestions: [
            'Baked salmon with roasted vegetables',
            'Stir-fried tofu with brown rice and broccoli',
          ],
        },
        {
          name: 'Snacks (10%)',
          calories: Math.round(calories * 0.10),
          protein: Math.round(protein * 0.10),
          carbs: Math.round(carbs * 0.10),
          fats: Math.round(fats * 0.10),
          suggestions: [
            'A handful of almonds or walnuts',
            'Apple slices with peanut butter',
          ],
        },
      ];
  
      return meals
        .map(
          (meal) => `
          <div class="border-b border-gray-200 pb-4">
            <h5 class="font-semibold text-gray-900">${meal.name}</h5>
            <div class="grid grid-cols-4 gap-4 mt-2 text-sm">
              <div>
                <span class="text-gray-600">Calories:</span>
                <span class="font-medium ml-1">${meal.calories}</span>
              </div>
              <div>
                <span class="text-gray-600">Protein:</span>
                <span class="font-medium ml-1">${meal.protein}g</span>
              </div>
              <div>
                <span class="text-gray-600">Carbs:</span>
                <span class="font-medium ml-1">${meal.carbs}g</span>
              </div>
              <div>
                <span class="text-gray-600">Fats:</span>
                <span class="font-medium ml-1">${meal.fats}g</span>
              </div>
            </div>
            <div class="mt-2 text-sm text-gray-600">
              <strong>Suggestions:</strong> ${meal.suggestions.join(', ')}
            </div>
          </div>
        `
        )
        .join('');
    }
  </script>
</body>
</html>